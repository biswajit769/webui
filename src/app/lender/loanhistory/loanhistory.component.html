<div class="lenderresp">
    <h1 style="margin-top:10%;"><img alt="history" src="assets/images/Loan History.png" class="headinglend">&nbsp; Loan History</h1>
    <div class="table-responsive tabledashboard">
        <div class="loan history icon">
            <table class="table table-striped table-bordered text-center">
                <thead class="tableheader">
                    <tr>
                        <th>Loan ID</th>
                        <th>Borrower Name</th>
                        <th>Requested Date</th>
                        <th>Loan Amount</th>
                        <th>Loan Disbursed</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-show="viewhistory.length>0" *ngFor="let view of lendloanhistroy">
                        <td (click)="loan_details(view.id)">{{view.id}}</td>
                        <td (click)="loan_details(view.id)">{{view.company_name}}</td>
                        <td (click)="loan_details(view.id)">{{view.requested_date}}</td>
                        <td (click)="loan_details(view.id)">{{view.loan_amount}}</td>
                     <!--    <td ng-show="view.status=='Accepted'">
                            <button class="btn btn-primary" (click)="disburse(view.id)">Disburse</button>
                        </td> -->
                        <td >
                            <button class="btn btn-primary" [disabled]="true">{{view.status}}</button>
                        </td>
                    </tr>
                    <tr *ngIf="lendloanhistroy.length==0">
                        <td colspan="5" class="text-center orangefont">No Loans Accepted</td>
                    </tr>
                </tbody>
            </table>
        </div>
      
    </div>
</div>






 <div id="myModal" #loanhistory class="modal fade " role="dialog">
    <div class="modal-dialog" >
<div class="modal-content">
  <div class="modal-header">
  <button type="button" class="btn btn-default crossymbol" data-dismiss="modal"ng-click="cancel()">&times;</button>
                <h3 class="modal-title" ng-show="disbursement">Loan Details</h3>
                <h3 class="modal-title" ng-hide="disbursement">Loan Disbursement Details</h3>
            </div>
            <div class="modal-body">
                <div ng-show="disbursement">
                    <!-- <table class="table-responsive">
                        <table class="col-md-6">
                            <tr>
                                <th style="width:50%;">Borrower Name</th>
                                <td>{{loandetails[0].borrower_name}}</td>
                            </tr>
                            <tr>
                                <th>Loan Amount</th>
                                <td>{{loandetails[0].loan_amount}}</td>
                            </tr>
                            <tr>
                                <th>Tenure</th>
                                <td>{{loandetails[0].tenure}}</td>
                            </tr>
                            <tr>
                                <th>Disbursed Amount</th>
                                <td>{{loandetails[0].disbursed_amount}}</td>
                            </tr>
                        </table>
                        <table class="col-md-6">
                            <tr>
                                <th style="width:50%;">Rate of Interest</th>
                                <td>{{loandetails[0].interest}}</td>
                            </tr>
                            <tr>
                                <th>Interest Amount</th>
                                <td>{{loandetails[0].loan_amount * loandetails[0].interest / 100 * loandetails[0].tenure}}</td>
                            </tr>
                            <tr>
                                <th>Disbursed Date</th>
                                <td>{{loandetails[0].disbursed_date}}</td>
                            </tr>
                            <tr>
                                <th>Repayment Type</th>
                                <td>{{loandetails[0].repayment_type}}</td>
                            </tr>
                        </table>
                        <table class="table table-striped table bordered space1">
                            <tr>
                                <th style="font-size: 18px;color: white;padding: inherit;background: #ed6506;">Payable Amount</th>
                                <th style="font-size: 18px;color: white;padding: inherit;background: #ed6506;">Payable date</th>
                                <th style="font-size: 18px;color: white;padding: inherit;background: #ed6506;">Payment Status</th>
                            </tr>
                            <tr ng-repeat="detail in loandetails">
                                <td>{{detail.payable_amount}}</td>
                                <td>{{detail.payable_date}}</td>
                                <td>{{detail.payment_status}}</td>
                            </tr>
                        </table>
                    </table> -->
                </div>
                <div ng-hide="disbursement">
                    <table class="table-responsive">
                        <table class="table table-striped table bordered">
                            <tr>
                                <th colspan="2" style="text-align: center;font-size: 18px;color: white;padding: inherit;background: #337ab6;">Loan Details</th>
                            </tr>
                            <tr>
                                <th>Loan ID</th>
                                <td>{{poplendloan3|| 'empty'}}</td>
                            </tr>
                            <tr>
                                <th>Loan Amount</th>
                                <td>{{poplendloan4|| 'empty'}}</td>
                            </tr>
                            <tr>
                                <th>Interest Amount</th>
                                <td>{{poplendloan5|| 'empty'}}</td>
                            </tr>
                            <tr>
                                <th>Processing Fee</th>
                                <td>{{'empty'}}</td>
                            </tr>
                            <tr>
                                <th>Membership Fee</th>
                                <td>{{'empty'}}</td>
                            </tr>
                            <tr>
                                <th>Insurance</th>
                                <td>{{'empty'}}</td>
                            </tr>
                            <tr>
                                <th>Disbursement Amount (to Company)</th>
                                <td>{{poplendloan6|| 'empty'}}</td>
                            </tr>
                            <!-- <tr>
                                <th>Disbursement Amount (to RTM)</th>
                                <td>{{poplendloanhistroy1.rtm_disbursement}}</td>
                            </tr> -->
                            <th colspan="2" style="text-align: center;font-size: 18px;color: white;padding: inherit;background: #337ab6;">Company Bank Details</th>
                            <tr>
                                <th>Name</th>
                                <td>{{poplendloanhistroy.holder_name}}</td>
                            </tr>
                            <tr>
                                <th>Bank Name</th>
                                <td>{{poplendloanhistroy.bank}}</td>
                            </tr>
                            <tr>
                                <th>Branch Name </th>
                                <td>{{poplendloanhistroy.branch_name}}</td>
                            </tr>
                            <tr>
                                <th>Account Number</th>
                                <td>{{poplendloanhistroy.account_number}}</td>
                            </tr>
                            <tr>
                                <th>IFSC Code</th>
                                <td>{{poplendloanhistroy.ifsc_code}}</td>
                            </tr>
                           
                          
                        </table>


                              <table class="table table-striped table-bordered text-center" >
                                            <thead class="tableheader">
                                                <tr>
                                                    <th style="text-align: center">Serial No</th>
                                                    <th style="text-align: center">Payable</th>
                                                    <th style="text-align: center">Penaulty Amount</th>
                                                    <th style="text-align: center">Payable Amount</th>
                                                    <th style="text-align: center">Payable date</th>
                                                    <th style="text-align: center">Payment Status</th>
                                                    <th style="text-align: center">Updated Date</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                 
                                                <tr  class="cursor" *ngFor="let  detail of poplendloan ;let i = index">
                                                    <td>{{i+1}}</td>
                                                    <td>{{detail.payable}}</td>
                                                    <td>{{detail.penalty_amount}}</td>
                                                    <td>{{detail.payable_amount}}</td>
                                                    <td>{{detail.payable_date}}</td>
                                                    <td>
                                                        <button class="btn btn-warning bccolor">{{detail.payment_status}}</button>
                                                    </td>
                                                    <td>{{detail.updated_date}}</td>
                                                 
                                                </tr>
                                              
                                            </tbody>
                                           
                                        </table>
                    </table>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" type="button" ng-click="cancel()" data-dismiss="modal">OK</button>
                </div>
            </div>
     
       </div>
       </div>
      </div>
   





